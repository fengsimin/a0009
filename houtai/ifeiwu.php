<?php
//Copyright (c) 2016 iFeiwu.com
 class Ifeiwu { protected $db; protected $table; protected $fields; protected $order; protected $admin; public function __construct() { goto k4dLR; XVzJa: PViil: goto t9PYr; ydPrz: if (!$this->table) { goto PViil; } goto Is3Fu; baWuA: if (!in_array("\x73\x6f\162\x74\x62\171", $this->fields)) { goto PKWLI; } goto V8uyw; ux8af: j7ZPn: goto XVzJa; V8uyw: $this->order[] = "\163\x6f\x72\164\142\171\40\x44\x45\x53\103"; goto ViyPq; efaT_: $this->order[] = "\x63\x74\151\x6d\145\x20\104\x45\x53\103"; goto ux8af; Is3Fu: $this->db = ifeiwu\Db::getInstance(); goto zPqd7; zPqd7: $this->prefix = $this->db->getPrefix(); goto V7Ch0; ViyPq: PKWLI: goto DaqXQ; ll4H0: $this->order = array(); goto baWuA; V7Ch0: $this->fields = $this->_getTableFields($this->table); goto ll4H0; k4dLR: $this->admin = $_GET["\x61\x64\155\x69\156"]; goto ydPrz; DaqXQ: if (!in_array("\143\x74\x69\x6d\145", $this->fields)) { goto j7ZPn; } goto efaT_; t9PYr: } public function __destruct() { goto EVYEX; sDnOB: $this->_debug($this->db->log()); goto YPWmv; YPWmv: tMD2E: goto lhol0; EVYEX: if (!APP_DEBUG) { goto tMD2E; } goto sDnOB; lhol0: } protected function error($message = '', $data = null) { return $this->_result(1, $message, $data); } protected function success($message = '', $data = null) { return $this->_result(0, $message, $data); } protected function _result($code = 0, $message = '', $data = null) { goto zHw2W; dMs2k: d3cZU: goto PhxAk; gWkdH: $res["\x64\141\164\x61"] = $data; goto fuVAr; zHw2W: $res = array(); goto e3c9O; Qv3ZG: if (is_array($message)) { goto CHXaT; } goto jX0km; s8lhw: return $res; goto IWDDb; PhxAk: if (!$data) { goto XPccm; } goto gWkdH; e3c9O: $res["\x63\x6f\x64\x65"] = $code; goto Qv3ZG; jX0km: $res["\x6d\145\x73\163\141\147\x65"] = $message; goto qbi0v; lVksu: $res["\x64\x61\164\141"] = $message; goto dMs2k; Orjgd: CHXaT: goto lVksu; qbi0v: goto d3cZU; goto Orjgd; fuVAr: XPccm: goto s8lhw; IWDDb: } protected function _bulidData($request_data) { goto fuIvL; C04nZ: $data["\x73\x74\x61\164\x65"] = isset($data["\x73\164\141\x74\x65"]) ? $data["\163\164\x61\164\x65"] : 0; goto AQONu; ob3Ku: $data["\x6a\x73\157\156"] = $category ? json_encode(array("\x63" => $category)) : ''; goto BhmOt; AQONu: if (!isset($request_data["\143\x74\151\x6d\x65"])) { goto y19jk; } goto lo5B1; cV4ce: $column = array("\x69\x64"); goto geUz9; BhmOt: iwhsi: goto NG8Th; wzqY5: $pid = $data["\x70\x69\144"]; goto FasQc; x4eev: y19jk: goto wzqY5; CLBYi: $column[] = "\x61\x6c\151\x61\163"; goto UR4Af; cVNy2: $column[] = "\164\x69\164\154\145"; goto CHKzc; dWPlU: $category = $this->db->select($this->table, $column)->where("\x69\144\x20\75\x20{$pid}")->get(); goto ob3Ku; aZIXW: k_DdQ: goto C04nZ; n5Sfi: foreach ($this->fields as $field) { goto vkfIy; PfE8c: if (!($value !== null)) { goto k4x3r; } goto mJteV; NuMKr: lTOPL: goto tVQhO; mJteV: $data[$field] = is_array($value) ? json_encode($value) : $this->_encode($value); goto rDf1X; vkfIy: $value = $request_data[$field]; goto PfE8c; rDf1X: k4x3r: goto NuMKr; tVQhO: } goto aZIXW; NG8Th: return $data; goto tgYx3; lo5B1: $data["\143\x74\x69\x6d\145"] = strtotime($request_data["\x63\164\x69\x6d\x65"]); goto x4eev; geUz9: if (!in_array("\164\151\x74\x6c\145", $this->fields)) { goto GYm_r; } goto cVNy2; I1fIU: if (!in_array("\x61\154\151\x61\x73", $this->fields)) { goto iDueK; } goto CLBYi; fuIvL: $data = array(); goto n5Sfi; UR4Af: iDueK: goto dWPlU; FasQc: if (!($pid > 0 && in_array("\x6a\x73\x6f\x6e", $this->fields))) { goto iwhsi; } goto cV4ce; CHKzc: GYm_r: goto I1fIU; tgYx3: } protected function _encode($data) { goto lgl23; DxGLg: return array_map(array($this, "\x5f\x65\x6e\143\157\144\x65"), $data); goto PxY4j; lgl23: if (!is_array($data)) { goto gXOR1; } goto DxGLg; wsFMI: if (!is_object($data)) { goto wxpqu; } goto jk9XC; k239K: dm9qV: goto A8XoU; RTOwV: wxpqu: goto T9RIS; jk9XC: $tmp = clone $data; goto UucjK; PxY4j: gXOR1: goto wsFMI; T9RIS: return htmlspecialchars($data, ENT_QUOTES); goto kQKm1; A8XoU: return $tmp; goto RTOwV; UucjK: foreach ($data as $k => $v) { $tmp->{$k} = $this->_encode($v); YJWz5: } goto k239K; kQKm1: } protected function _decode($data) { goto xQMyn; x7cl3: foreach ($data as $k => $v) { $tmp->{$k} = $this->_decode($v); hXVlN: } goto ptkhU; ZPywF: return htmlspecialchars_decode($data, ENT_QUOTES); goto Abyqy; ptkhU: fbF49: goto jmh8D; aAjZC: U81mw: goto ZPywF; jmh8D: return $tmp; goto aAjZC; Rx0IT: if (!is_object($data)) { goto U81mw; } goto CQJ1Y; xQMyn: if (!is_array($data)) { goto u1Ygq; } goto yQlgO; yQlgO: return array_map(array($this, "\137\144\145\x63\x6f\144\145"), $data); goto CMPoZ; CMPoZ: u1Ygq: goto Rx0IT; CQJ1Y: $tmp = clone $data; goto x7cl3; Abyqy: } protected function _getTableFields($table) { goto yi2dW; zX_Y2: tvjZz: goto nAL_X; tdK1i: $table = $this->prefix . $table; goto CMy8K; ytD4G: $query = $this->db->query("\x53\105\x4c\105\103\124\40\x2a\40\106\x52\x4f\x4d\x20{$table}"); goto tVlo3; nAL_X: $i++; goto VL2JF; uJE8c: rKI7c: goto SQat4; tVlo3: $count = $query->columnCount(); goto lffoj; rak5V: goto w5Tjj; goto OvfUU; OvfUU: nUIWk: goto tdK1i; yi2dW: if ($table) { goto nUIWk; } goto CYqfJ; lffoj: $i = 0; goto uJE8c; hQU50: $column = $query->getColumnMeta($i); goto wnR3m; SQat4: if (!($i < $count)) { goto ASHTM; } goto hQU50; CMy8K: w5Tjj: goto ytD4G; VL2JF: goto rKI7c; goto uTeQ5; NxfZH: return $fields; goto SxdCy; CYqfJ: $table = $this->prefix . $this->table; goto rak5V; uTeQ5: ASHTM: goto NxfZH; wnR3m: $fields[] = $column["\156\141\155\x65"]; goto zX_Y2; SxdCy: } protected function _callback($method, $params) { goto Rzkxs; lhfVu: call_user_func_array(array($this, $method), $params); goto rtAFZ; rtAFZ: mvC1r: goto ib4JR; Rzkxs: if (!(is_callable(array($this, $method)) !== false)) { goto mvC1r; } goto lhfVu; ib4JR: } protected function _getLevel($pid, $id) { goto JyN1c; ZugUv: return "\x2c" . implode("\54", array_reverse($list)) . "\54" . $id . "\54"; goto we6sl; JyN1c: static $list = array(); goto Fs4ql; JVseX: goto dLLrD; goto VhpKd; AT5F4: return "\x2c" . implode("\x2c", array_reverse($list)) . "\x2c"; goto JVseX; rh670: Lncej: goto U3L3V; ueWk6: $this->_getLevel('', $pid); goto ooRv3; Vyh0J: goto M2p4W; goto l7YLS; REqQd: if ($id) { goto pK8qh; } goto AT5F4; U3L3V: if (!($pid != 0)) { goto glTHu; } goto htfoC; Coke8: if (count($list) == 0) { goto XVSDp; } goto REqQd; htfoC: $list[] = $pid; goto ueWk6; botDk: $pid = $this->db->select($this->table, "\160\151\x64")->where(array("\151\x64", "\75", $id))->get(0); goto rh670; ooRv3: glTHu: goto Coke8; l7YLS: XVSDp: goto sVGoN; sVGoN: return "\x2c" . $id . "\54"; goto MWg96; VhpKd: pK8qh: goto ZugUv; we6sl: dLLrD: goto Vyh0J; MWg96: M2p4W: goto I97HS; Fs4ql: if (!($pid === '')) { goto Lncej; } goto botDk; I97HS: } protected function _saveData($table, $data, $where) { goto jeRp4; jeRp4: if ($this->db->select($table)->where($where)->has()) { goto t81Vw; } goto l39A3; qGzZw: zvBBN: goto iZybE; l39A3: return $this->db->insert($table, $data)->is(); goto oLrFY; i9xCA: return $this->db->update($table, $data, $where)->is(); goto qGzZw; oXaA_: t81Vw: goto i9xCA; oLrFY: goto zvBBN; goto oXaA_; iZybE: } protected function _saveImages($pid, $request_data) { goto tWXsP; FPpas: foreach ($images_id as $i => $id) { goto Zb51x; qG3LP: unset($data["\151\155\x61\x67\x65"], $data["\151\155\x61\147\x65\x5f\160\x61\x74\x68"]); goto Qvuym; Qvuym: dkDVZ: goto E0Hp8; ZCtwV: if (empty($id)) { goto Hw4Zu; } goto Zaj_N; Zaj_N: $this->db->update($this->table, $data, array("\151\x64", "\x3d", $id)); goto FLE8k; gUMFI: $data["\x6f\x72\144\145\x72\x62\171"] = $images_order[$i]; goto rXdU1; FLE8k: goto dkDVZ; goto rBDfr; Z9D69: $this->db->insert($this->table, $data); goto qG3LP; rBDfr: Hw4Zu: goto wwsFd; rXdU1: $data["\163\x74\141\x74\x65"] = $images_state[$i]; goto ZCtwV; Us_dg: $data["\151\x6d\x61\x67\145\137\x70\x61\x74\150"] = $images_path[$i]; goto Z9D69; E0Hp8: Hwdww: goto FO37t; wwsFd: $data["\x69\x6d\x61\147\x65"] = $images_name[$i]; goto Us_dg; Zb51x: $data["\164\x69\164\x6c\145"] = $images_title[$i]; goto gUMFI; FO37t: } goto P8Bcf; PegXN: $images_path = $request_data["\151\155\x61\x67\x65\163\x5f\160\x61\164\x68"]; goto MYJex; tWXsP: $images_id = $request_data["\151\155\141\147\x65\x73\137\151\x64"]; goto jtRTn; MYJex: $images_state = $request_data["\151\x6d\141\x67\145\x73\137\x73\x74\x61\x74\145"]; goto CWrQM; CWrQM: $data["\x74\x79\160\145"] = "\151\155\x61\147\145"; goto sko2I; sko2I: $data["\160\x69\x64"] = $pid; goto vysc0; uUrVX: $images_name = $request_data["\151\155\x61\x67\x65\x73\x5f\156\x61\x6d\145"]; goto PegXN; OICFO: $images_title = $request_data["\151\155\141\147\x65\x73\x5f\164\x69\164\x6c\x65"]; goto uUrVX; vysc0: $data["\x63\x74\151\x6d\x65"] = time(); goto FPpas; jtRTn: $images_order = $request_data["\x69\155\x61\147\x65\163\x5f\157\162\144\x65\x72"]; goto OICFO; P8Bcf: nY4lg: goto j3Yul; j3Yul: } protected function _removeFiles2($files) { goto sL6nn; gXjAR: foreach ($files as $key => $value) { goto H1i6v; rlnNs: goto ubnyl; goto X3Q0c; XwxG7: unlink($filename); goto XkHBh; Ik1vL: ydUNV: goto WFNCq; JXt6s: $path = "\x2e\56\x2f" . $value["\x70\141\x74\150"]; goto ka5i2; YYjP5: oifjH: goto o233i; hdngF: $filename = $path . "\x2f" . $name; goto fDzLX; ka5i2: $prefix = $value["\x70\x72\x65\146\151\x78"]; goto CJT8e; CJT8e: if ($prefix) { goto ydUNV; } goto hdngF; Z5IYi: foreach ($prefixs as $prefix) { goto P3aad; P3aad: $filename = "{$path}\57{$prefix}{$name}"; goto C6lA_; C6lA_: if (!file_exists($filename)) { goto QHxZU; } goto Cau2i; qUHQR: QHxZU: goto ov3oo; Cau2i: unlink($filename); goto qUHQR; ov3oo: PbSB1: goto nCCJZ; nCCJZ: } goto YYjP5; WFNCq: $prefixs = explode("\54", $prefix); goto Z5IYi; fDzLX: if (!file_exists($filename)) { goto akxZk; } goto XwxG7; Z1uXv: goto v82SS; goto Ik1vL; H1i6v: $name = $value["\156\x61\x6d\x65"]; goto UhFch; UhFch: if ($name) { goto rdgvK; } goto rlnNs; XkHBh: akxZk: goto Z1uXv; ZntQ3: ubnyl: goto XqKok; X3Q0c: rdgvK: goto JXt6s; o233i: v82SS: goto ZntQ3; XqKok: } goto DoaMD; sL6nn: if (!(!empty($files) && !is_array($files))) { goto Jg0KW; } goto Argox; VH1Hc: if (!$files) { goto W7BrI; } goto gXjAR; OVing: Jg0KW: goto VH1Hc; DoaMD: ot0Fh: goto ijTpA; ijTpA: W7BrI: goto HKmiy; Argox: $files = json_decode($files, true); goto OVing; HKmiy: } protected function _mkdir($path, $mode = 493) { goto Nyh2b; MINXx: WU83U: goto yGSaD; BGc4v: return mkdir($path, $mode, true); goto MINXx; yGSaD: return false; goto oCUf4; Nyh2b: if (is_dir($path)) { goto WU83U; } goto BGc4v; oCUf4: } protected function _rmdir($path) { goto LrdFw; tuLHc: return false; goto ToVHZ; wWUBu: BzTxY: goto bxKn_; DPkt7: if (!(false !== ($item = readdir($handle)))) { goto nyiFn; } goto a33Hg; g9JAj: $this->_rmdir("{$path}\57{$item}"); goto wWUBu; bxKn_: IkxgX: goto VyOA9; ToVHZ: UACjW: goto GIwUb; ehOad: if (is_dir("{$path}\57{$item}")) { goto ed8GZ; } goto xy4EC; FnFC_: ovQW_: goto DPkt7; uhkmF: nyiFn: goto o4zyZ; VyOA9: goto ovQW_; goto uhkmF; o4zyZ: closedir($handle); goto Hy0Ie; Ywbtr: uBXQK: goto oiThh; xy4EC: unlink("{$path}\x2f{$item}"); goto svnqr; svnqr: goto BzTxY; goto eHIEl; Tztdk: return false; goto UEEVj; a33Hg: if (!($item != "\56" && $item != "\56\x2e")) { goto IkxgX; } goto ehOad; UEEVj: goto Nnyd3; goto Ywbtr; eHIEl: ed8GZ: goto g9JAj; Hy0Ie: if (rmdir($path)) { goto uBXQK; } goto Tztdk; NSNs9: D2Zwe: goto ihKKM; LrdFw: if (is_dir($path)) { goto UACjW; } goto tuLHc; GIwUb: if (!($handle = opendir($path))) { goto D2Zwe; } goto FnFC_; yPa8e: Nnyd3: goto NSNs9; oiThh: return true; goto yPa8e; ihKKM: } protected function _bulidUploadPath($temp_path, $data) { goto Eg0Eh; veOkx: Md1T4: goto iirw9; elyMb: $true_path = str_replace($path_last, $data[$vardir], $temp_path); goto ce_H2; iirw9: return $true_path; goto wyOiH; gCag8: BmveM: goto veOkx; vgO35: if (rename("\x2e\56\x2f" . $temp_path, "\56\56\57" . $true_path)) { goto BmveM; } goto gaX00; qYi31: return $temp_path; goto dyZ13; tjgCM: $vardir = current(explode("\x21\75", $path_last)); goto elyMb; P73a3: if (!($path_last == $id)) { goto KLEpW; } goto qYi31; dyZ13: KLEpW: goto Kg4Uh; Kg4Uh: if (!(strpos($path_last, "\x21\x3d") !== false)) { goto u1_wv; } goto tjgCM; xnHM7: $path_last = end(explode("\57", $temp_path)); goto P73a3; Eg0Eh: $id = $data["\151\x64"]; goto xnHM7; VzgSY: if (!is_dir("\56\56\57" . $temp_path)) { goto Md1T4; } goto vgO35; ce_H2: u1_wv: goto VzgSY; gaX00: $true_path = $temp_path; goto gCag8; wyOiH: } protected function _toTree($list, $pk = "\151\144", $pid = "\x70\x69\x64", $child = "\x5f\x63\150\x69\154\x64", $root = 0) { goto egdKO; oMxlQ: if (!is_array($list)) { goto keXJW; } goto nILzx; TdViE: foreach ($list as $key => $data) { $refer[$data[$pk]] =& $list[$key]; Iadlp: } goto lEHxW; HxkSM: return $tree; goto YzQVu; lEHxW: xzkap: goto QidRy; u3ANo: dLkh8: goto ASEzn; nILzx: $refer = array(); goto TdViE; ASEzn: keXJW: goto HxkSM; QidRy: foreach ($list as $key => $data) { goto MvFnj; SzbeB: $parent[$child][] =& $list[$key]; goto rIaJ6; IVH_m: $parent =& $refer[$parentId]; goto SzbeB; o29O8: $tree[] =& $list[$key]; goto SpboL; GYkD0: if ($root == $parentId) { goto G25Sn; } goto gteTl; gteTl: if (!isset($refer[$parentId])) { goto bPnxG; } goto IVH_m; SpboL: YswP9: goto vE2R0; CVGYb: goto YswP9; goto gC6VR; vE2R0: qu2Lr: goto UEXtp; gC6VR: G25Sn: goto o29O8; rIaJ6: bPnxG: goto CVGYb; MvFnj: $parentId = $data[$pid]; goto GYkD0; UEXtp: } goto u3ANo; egdKO: $tree = array(); goto oMxlQ; YzQVu: } protected function _rand($length, $islowercase = true, $isuppercase = true, $isnumber = true, $isspecial = false) { goto ZJ3qL; ZJ3qL: if (!$islowercase) { goto z7cCI; } goto fW8Gf; xlD9G: $result = ''; goto lMAwA; FaD0T: zyqiq: goto CPF6V; m9E2n: uJWLz: goto BGbQ6; ri03l: $i++; goto Sa151; peLr7: if (!$isspecial) { goto GRYCl; } goto Ju3yE; lMAwA: $max = strlen($chars) - 1; goto LRgIn; WHhun: GRYCl: goto xlD9G; TYWpi: z7cCI: goto QuCGg; Mpcy3: if (!($i < $length)) { goto uJWLz; } goto SWKLj; ydMHI: $chars .= "\x30\61\x32\x33\64\x35\66\67\70\71"; goto xcQqT; BGbQ6: return $result; goto ckFBu; CPF6V: if (!$isnumber) { goto wF3Fw; } goto ydMHI; xcQqT: wF3Fw: goto peLr7; fW8Gf: $chars .= "\141\142\143\144\x65\x66\147\x68\151\152\x6b\x6c\155\x6e\157\x70\x71\162\x73\164\165\x76\167\170\171\x7a"; goto TYWpi; fp_kY: y8kPY: goto Mpcy3; QuCGg: if (!$isuppercase) { goto zyqiq; } goto fO4MQ; SWKLj: $result .= $chars[rand(0, $max)]; goto mnDCW; fO4MQ: $chars .= "\101\102\x43\x44\105\106\107\110\x49\x4a\x4b\x4c\115\116\x4f\120\x51\x52\123\x54\x55\126\x57\130\x59\132"; goto FaD0T; LRgIn: $i = 0; goto fp_kY; Sa151: goto y8kPY; goto m9E2n; mnDCW: SsLly: goto ri03l; Ju3yE: $chars .= "\x21\100\x23\x24\x25\136\x26\52\50\x29"; goto WHhun; ckFBu: } protected function _UTF82GBK($str) { goto kOrtq; hNHCj: return $str; goto mTqx5; mTqx5: goto wBMpd; goto wQeDo; b0iKp: wBMpd: goto le7zJ; wQeDo: HFSg6: goto oRXWj; kOrtq: if (stripos(php_uname("\163"), "\x57\151\156\144\x6f\167") !== false) { goto HFSg6; } goto hNHCj; oRXWj: return iconv("\125\x54\106\55\70", "\107\x42\113\x2f\x2f\111\x47\x4e\x4f\122\105", $str); goto b0iKp; le7zJ: } protected function _serialize($obj) { return base64_encode(gzcompress(serialize($obj))); } protected function _unserialize($txt) { return unserialize(gzuncompress(base64_decode($txt))); } protected function _getIP() { goto lc3IB; ZrNr2: tjiHS: goto SZyZu; Yn2sE: $realip = getenv("\110\124\x54\x50\x5f\x58\x5f\x46\x4f\122\127\x41\x52\104\105\104\x5f\106\x4f\122"); goto M_6sD; SZyZu: $realip = $_SERVER["\110\x54\x54\x50\137\130\x5f\106\117\x52\127\x41\x52\104\x45\x44\137\x46\x4f\122"]; goto y4AFd; m2km_: zMh3c: goto IEucJ; lc3IB: if (isset($_SERVER)) { goto uDroS; } goto LKUHE; lQfXy: dq6wb: goto c7l7G; XDCct: MwCea: goto Yn2sE; QZPtW: return $realip; goto ogQXp; M_6sD: $realip = explode("\x2c", $realip); goto FI1gu; IEucJ: $realip = getenv("\110\124\124\120\137\103\x4c\x49\x45\116\x54\x5f\x49\x50"); goto pWTzm; FMfbj: uDroS: goto zWoUD; S_E7n: $realip = empty($realip) ? $_SERVER["\x52\x45\x4d\x4f\x54\x45\x5f\x41\104\x44\x52"] : $realip; goto ZQhB2; QOaG2: $realip = $_SERVER["\x52\x45\115\x4f\x54\105\137\x41\104\x44\x52"]; goto p8tpU; h2hsU: goto W1Wxu; goto XDCct; LKUHE: if (getenv("\110\124\x54\x50\x5f\x58\x5f\106\117\122\x57\101\122\x44\x45\x44\x5f\106\x4f\x52")) { goto MwCea; } goto bEp0V; ZQhB2: goto W1Wxu; goto m2km_; SA4zj: $realip = getenv("\122\105\x4d\x4f\124\x45\137\x41\104\x44\x52"); goto h2hsU; pWTzm: W1Wxu: goto BEgLW; uTYvl: if (isset($_SERVER["\x48\x54\x54\x50\137\x43\x4c\111\x45\x4e\124\x5f\x49\x50"])) { goto dq6wb; } goto QOaG2; BEgLW: goto sUaVa; goto FMfbj; y4AFd: $realip = explode("\54", $realip); goto KEyzj; O99H6: FF6PU: goto ak3LQ; ZrSN1: goto FF6PU; goto lQfXy; zWoUD: if (isset($_SERVER["\110\124\x54\x50\137\130\137\106\x4f\x52\127\x41\x52\x44\105\104\137\106\117\x52"])) { goto tjiHS; } goto uTYvl; t85Up: $realip = empty($realip) ? $_SERVER["\122\105\115\x4f\124\105\137\101\104\x44\122"] : $realip; goto ZrSN1; p8tpU: goto FF6PU; goto ZrNr2; c7l7G: $realip = $_SERVER["\x48\124\x54\x50\137\103\114\x49\105\116\124\137\x49\120"]; goto O99H6; bEp0V: if (getenv("\110\124\x54\120\x5f\103\114\111\x45\x4e\x54\x5f\x49\120")) { goto zMh3c; } goto SA4zj; KEyzj: $realip = $realip[0]; goto t85Up; ak3LQ: sUaVa: goto QZPtW; FI1gu: $realip = $realip[0]; goto S_E7n; ogQXp: } protected function _trash($item, $request_data) { goto xv0TB; ZzCHe: $path = $request_data["\160\141\164\x68"]; goto Z2RdX; yDbWu: $data["\163\x74\x61\164\x65"] = 0; goto Vr1d7; yO9d9: return $this->db->insert("\x74\x72\x61\x73\150", $data)->is(); goto vntPq; xv0TB: $data = array(); goto JAGpQ; XziJs: $data["\156\x6f\164\x65"] = $request_data["\156\x6f\x74\x65"]; goto xve7f; xve7f: $data["\x74\x69\164\x6c\145"] = $item["\164\151\164\154\x65"]; goto ZzCHe; HXT4r: $data["\164\x61\x62\x6c\x65"] = $this->table; goto o3NLw; Z2RdX: $data["\x70\141\x74\150"] = $path ? $item[$path] : ''; goto HXT4r; JAGpQ: $data["\x61\144\x6d\x69\156\x5f\151\x64"] = $this->admin["\x69\144"]; goto iSynQ; Vr1d7: $data["\143\164\151\x6d\145"] = time(); goto yO9d9; iSynQ: $data["\x61\144\155\x69\x6e\x5f\x6e\x61\155\x65"] = $this->admin["\156\x61\155\x65"]; goto XziJs; o3NLw: $data["\x64\x61\x74\141"] = json_encode($item); goto yDbWu; vntPq: } protected function _log($type, $data = array()) { goto N30ff; HjGMD: $data["\141\x64\x6d\x69\x6e\x5f\156\x61\155\x65"] = $this->admin["\x6e\141\155\145"]; goto in9yk; T_T9E: $data["\x61\144\155\x69\x6e\x5f\151\x64"] = $this->admin["\151\x64"]; goto HjGMD; pLVYA: $data["\164\171\160\x65"] = $type; goto m_yOo; m_yOo: $data["\151\x70"] = $this->_getIP(); goto SQpMS; SQpMS: $data["\x63\164\151\155\145"] = time(); goto HPtAG; HPtAG: return $this->db->insert("\x6c\x6f\x67", $data)->is(); goto qtWNh; in9yk: $data["\x75\x72\x6c"] = $_SERVER["\110\124\x54\120\x5f\122\105\106\105\122\105\x52"]; goto oQqJt; N30ff: if (!($type != "\x6c\157\x67\151\x6e")) { goto QPqOa; } goto T_T9E; ObizL: $data["\x74\141\x62\x6c\x65"] = $this->table; goto pLVYA; oQqJt: QPqOa: goto ObizL; qtWNh: } protected function _debug($message) { $log = ifeiwu\Log::getInstance(); $log->debug($message); } }
